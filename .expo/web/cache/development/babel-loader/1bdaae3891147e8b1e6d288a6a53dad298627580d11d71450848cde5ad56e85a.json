{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar LoginScreen = function LoginScreen() {\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    errorMessage = _useState6[0],\n    setErrorMessage = _useState6[1];\n  var navigate = useNavigate();\n  var ip = \"10.192.5.233\";\n  var apiURL = \"http://\" + ip + \":8888/api\";\n  var handleLogin = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var response = yield fetch(apiURL + \"/login\", {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            email: email,\n            password: password\n          })\n        });\n        var data = yield response.json();\n        if (response.status === 200) {\n          if (data.is_admin) {\n            navigate('/admin-dashboard');\n          } else {\n            navigate('/user-dashboard');\n          }\n        } else {\n          setErrorMessage(data.message || 'Erreur de connexion');\n        }\n      } catch (error) {\n        setErrorMessage(error.message || 'Une erreur est survenue lors de la connexion');\n      }\n    });\n    return function handleLogin() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return _jsxs(\"div\", {\n    style: styles.container,\n    children: [_jsxs(\"div\", {\n      style: styles.loginInfo,\n      children: [_jsx(\"h2\", {\n        style: styles.loginInfoTitle,\n        children: \"Bienvenue sur Sant\\xE9-App\"\n      }), _jsx(\"p\", {\n        style: styles.loginInfoText,\n        children: \"Rejoignez-nous et d\\xE9couvrez le moyen premium de v\\xE9rifier votre \\xE9tat de sant\\xE9, de g\\xE9rer vos rendez-vous et de rester au courant de vos besoins m\\xE9dicaux en toute simplicit\\xE9.\"\n      }), _jsxs(\"p\", {\n        style: styles.loginInfoText,\n        children: [\"Vous n'avez pas de compte ? \", _jsx(\"a\", {\n          href: \"/register\",\n          style: styles.linkText,\n          children: \"Inscrivez-vous maintenant\"\n        })]\n      })]\n    }), _jsx(\"div\", {\n      style: styles.loginForm,\n      children: _jsxs(\"div\", {\n        style: styles.card,\n        children: [_jsx(\"div\", {\n          style: styles.cardHeader,\n          children: _jsx(\"h2\", {\n            style: styles.cardHeaderText,\n            children: \"Connectez-vous \\xE0 votre compte\"\n          })\n        }), _jsxs(\"div\", {\n          style: styles.cardBody,\n          children: [errorMessage && _jsx(\"p\", {\n            style: styles.errorMessage,\n            children: errorMessage\n          }), _jsx(\"input\", {\n            style: styles.input,\n            type: \"email\",\n            placeholder: \"Email\",\n            value: email,\n            onChange: function onChange(e) {\n              return setEmail(e.target.value);\n            }\n          }), _jsx(\"input\", {\n            style: styles.input,\n            type: \"password\",\n            placeholder: \"Mot de passe\",\n            value: password,\n            onChange: function onChange(e) {\n              return setPassword(e.target.value);\n            }\n          }), _jsx(\"button\", {\n            style: styles.button,\n            onClick: handleLogin,\n            children: _jsx(\"span\", {\n              style: styles.buttonText,\n              children: \"Se connecter\"\n            })\n          }), _jsx(\"div\", {\n            style: styles.forgotPassword,\n            children: _jsx(\"a\", {\n              href: \"/forgot-password\",\n              style: styles.linkText,\n              children: \"Vous avez oubli\\xE9 votre mot de passe ?\"\n            })\n          })]\n        })]\n      })\n    })]\n  });\n};\nvar styles = {\n  container: {\n    display: 'flex',\n    justifyContent: 'space-around',\n    alignItems: 'center',\n    backgroundColor: '#fff',\n    padding: '20px'\n  },\n  loginInfo: {\n    flex: 1,\n    marginRight: '50px'\n  },\n  loginInfoTitle: {\n    fontSize: '24px',\n    fontWeight: 'bold',\n    marginBottom: '10px'\n  },\n  loginInfoText: {\n    fontSize: '16px',\n    marginBottom: '20px'\n  },\n  linkText: {\n    color: '#3490dc',\n    textDecoration: 'underline'\n  },\n  loginForm: {\n    flex: 1\n  },\n  card: {\n    borderRadius: '20px',\n    boxShadow: '0px 4px 8px rgba(0, 0, 0, 0.1)',\n    overflow: 'hidden'\n  },\n  cardHeader: {\n    backgroundColor: '#6AC8FF',\n    padding: '20px',\n    color: '#fff',\n    textAlign: 'center'\n  },\n  cardHeaderText: {\n    fontSize: '20px'\n  },\n  cardBody: {\n    backgroundColor: '#fff',\n    padding: '20px'\n  },\n  input: {\n    width: '100%',\n    padding: '8px',\n    marginBottom: '10px',\n    borderRadius: '10px',\n    border: '1px solid #ced4da',\n    fontSize: '14px'\n  },\n  button: {\n    backgroundColor: '#3490dc',\n    padding: '8px',\n    borderRadius: '20px',\n    color: '#fff',\n    textAlign: 'center',\n    width: '100%',\n    cursor: 'pointer',\n    fontSize: '14px'\n  },\n  buttonText: {\n    fontSize: '16px'\n  },\n  errorMessage: {\n    color: 'red',\n    textAlign: 'center',\n    marginBottom: '10px'\n  },\n  forgotPassword: {\n    marginTop: '10px',\n    textAlign: 'center'\n  }\n};\nexport default LoginScreen;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","LoginScreen","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","errorMessage","setErrorMessage","navigate","ip","apiURL","handleLogin","_ref","_asyncToGenerator","response","fetch","method","headers","body","JSON","stringify","data","json","status","is_admin","message","error","apply","arguments","style","styles","container","children","loginInfo","loginInfoTitle","loginInfoText","href","linkText","loginForm","card","cardHeader","cardHeaderText","cardBody","input","type","placeholder","value","onChange","e","target","button","onClick","buttonText","forgotPassword","display","justifyContent","alignItems","backgroundColor","padding","flex","marginRight","fontSize","fontWeight","marginBottom","color","textDecoration","borderRadius","boxShadow","overflow","textAlign","width","border","cursor","marginTop"],"sources":["C:/Users/naelo/Desktop/sante-app-react-js/src/LoginScreen.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst LoginScreen = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const navigate = useNavigate();\r\n  const ip = \"10.192.5.233\";\r\n  const apiURL = `http://${ip}:8888/api`;\r\n\r\n  const handleLogin = async () => {\r\n    try {\r\n      const response = await fetch(`${apiURL}/login`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          email: email,\r\n          password: password,\r\n        }),\r\n      });\r\n      const data = await response.json();\r\n\r\n      if (response.status === 200) {\r\n        // Vérifier si l'utilisateur est un administrateur\r\n        if (data.is_admin) {\r\n          // Naviguer vers le tableau de bord administrateur\r\n          navigate('/admin-dashboard');\r\n        } else {\r\n          // Naviguer vers le tableau de bord utilisateur standard\r\n          navigate('/user-dashboard');\r\n        }\r\n      } else {\r\n        // Si le statut n'est pas 200, on suppose qu'il y a une erreur de connexion\r\n        setErrorMessage(data.message || 'Erreur de connexion');\r\n      }\r\n    } catch (error) {\r\n      // Cette partie attrape les erreurs de réseau ou les erreurs survenues lors de la requête\r\n      setErrorMessage(error.message || 'Une erreur est survenue lors de la connexion');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <div style={styles.loginInfo}>\r\n        <h2 style={styles.loginInfoTitle}>Bienvenue sur Santé-App</h2>\r\n        <p style={styles.loginInfoText}>\r\n          Rejoignez-nous et découvrez le moyen premium de vérifier votre état de santé, de gérer vos rendez-vous et de rester au courant de vos besoins médicaux en toute simplicité.\r\n        </p>\r\n        <p style={styles.loginInfoText}>\r\n          Vous n'avez pas de compte ? <a href=\"/register\" style={styles.linkText}>Inscrivez-vous maintenant</a>\r\n        </p>\r\n      </div>\r\n\r\n      <div style={styles.loginForm}>\r\n        <div style={styles.card}>\r\n          <div style={styles.cardHeader}>\r\n            <h2 style={styles.cardHeaderText}>Connectez-vous à votre compte</h2>\r\n          </div>\r\n          <div style={styles.cardBody}>\r\n            {errorMessage && <p style={styles.errorMessage}>{errorMessage}</p>}\r\n            <input style={styles.input} type=\"email\" placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} />\r\n            <input style={styles.input} type=\"password\" placeholder=\"Mot de passe\" value={password} onChange={(e) => setPassword(e.target.value)} />\r\n            <button style={styles.button} onClick={handleLogin}>\r\n              <span style={styles.buttonText}>Se connecter</span>\r\n            </button>\r\n            <div style={styles.forgotPassword}>\r\n              <a href=\"/forgot-password\" style={styles.linkText}>Vous avez oublié votre mot de passe ?</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  container: {\r\n    display: 'flex',\r\n    justifyContent: 'space-around',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n    padding: '20px',\r\n  },\r\n  loginInfo: {\r\n    flex: 1,\r\n    marginRight: '50px',\r\n  },\r\n  loginInfoTitle: {\r\n    fontSize: '24px',\r\n    fontWeight: 'bold',\r\n    marginBottom: '10px',\r\n  },\r\n  loginInfoText: {\r\n    fontSize: '16px',\r\n    marginBottom: '20px',\r\n  },\r\n  linkText: {\r\n    color: '#3490dc',\r\n    textDecoration: 'underline',\r\n  },\r\n  loginForm: {\r\n    flex: 1,\r\n  },\r\n  card: {\r\n    borderRadius: '20px',\r\n    boxShadow: '0px 4px 8px rgba(0, 0, 0, 0.1)',\r\n    overflow: 'hidden',\r\n  },\r\n  cardHeader: {\r\n    backgroundColor: '#6AC8FF',\r\n    padding: '20px',\r\n    color: '#fff',\r\n    textAlign: 'center',\r\n  },\r\n  cardHeaderText: {\r\n    fontSize: '20px',\r\n  },\r\n  cardBody: {\r\n    backgroundColor: '#fff',\r\n    padding: '20px',\r\n  },\r\n  input: {\r\n    width: '100%', \r\n    padding: '8px', \r\n    marginBottom: '10px',\r\n    borderRadius: '10px',\r\n    border: '1px solid #ced4da',\r\n    fontSize: '14px', \r\n  },\r\n  button: {\r\n    backgroundColor: '#3490dc',\r\n    padding: '8px', \r\n    borderRadius: '20px',\r\n    color: '#fff',\r\n    textAlign: 'center',\r\n    width: '100%',\r\n    cursor: 'pointer',\r\n    fontSize: '14px', \r\n  },\r\n  buttonText: {\r\n    fontSize: '16px',\r\n  },\r\n  errorMessage: {\r\n    color: 'red',\r\n    textAlign: 'center',\r\n    marginBottom: '10px',\r\n  },\r\n  forgotPassword: {\r\n    marginTop: '10px',\r\n    textAlign: 'center',\r\n  },\r\n};\r\n\r\nexport default LoginScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}